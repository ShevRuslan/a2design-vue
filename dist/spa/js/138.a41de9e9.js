"use strict";(globalThis["webpackChunka2design_vue"]=globalThis["webpackChunka2design_vue"]||[]).push([[138],{8004:(e,t,l)=>{l.d(t,{Z:()=>C});var i=l(9835);const o={class:"row q-col-gutter-md items-stretch wrapper-articles"};function n(e,t,l,n,s,a){const r=(0,i.up)("ArticlesListElement");return(0,i.wg)(),(0,i.iD)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.articles,(t=>((0,i.wg)(),(0,i.j4)(r,{key:t.id,title:t.title,img:t.img,author:t.author,description:t.description,showDeleteButton:e.showDeleteButton,showEditButton:e.showEditButton,id:t.id},null,8,["title","img","author","description","showDeleteButton","showEditButton","id"])))),128))])}var s=l(6970),a=l(1957);const r=e=>((0,i.dD)("data-v-2cb3e7bf"),e=e(),(0,i.Cn)(),e),d={class:"wrapper-article col-lg-4 col-md-6 col-sm-12"},u=["src"],c={class:"text-h6 article-title"},p={class:"text-subtitle2"},m=r((()=>(0,i._)("h4",null,"Измените статью",-1)));function g(e,t,l,o,n,r){const g=(0,i.up)("q-card-section"),w=(0,i.up)("q-btn"),h=(0,i.up)("q-btn-group"),f=(0,i.up)("q-card"),v=(0,i.up)("q-input"),q=(0,i.up)("q-card-actions"),y=(0,i.up)("q-form"),b=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(f,{class:"article"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.img},null,8,u),(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("div",c,(0,s.zw)(e.title),1),(0,i._)("div",p,(0,s.zw)(e.author),1)])),_:1}),(0,i.Wm)(g,{class:"q-pt-none article-description"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.description),1)])),_:1}),(0,i.Wm)(g,{class:"q-pt-none full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{spread:"",class:"full-width"},{default:(0,i.w5)((()=>[e.showDeleteButton?((0,i.wg)(),(0,i.j4)(w,{key:0,class:"full-width",label:"Удалить",color:"negative",onClick:t[0]||(t[0]=t=>e.deleteArticle(e.id))})):(0,i.kq)("",!0),e.showEditButton?((0,i.wg)(),(0,i.j4)(w,{key:1,class:"full-width",label:"Редактировать",color:"info",onClick:t[1]||(t[1]=t=>e.isOpenEditDialog=!0)})):(0,i.kq)("",!0)])),_:1})])),_:1})])),_:1}),(0,i.Wm)(b,{modelValue:e.isOpenEditDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.isOpenEditDialog=t),persistent:"","transition-show":"flip-down","transition-hide":"flip-up",maximized:""},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{class:"flex items-center justify-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"full-width"},{default:(0,i.w5)((()=>[m,(0,i.Wm)(y,{onSubmit:(0,a.iM)(e.edit,["prevent"])},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{outlined:"",modelValue:e.titleModel,"onUpdate:modelValue":t[2]||(t[2]=t=>e.titleModel=t),"lazy-rules":"",rules:[e=>e&&e.length>0||"Обязательное поле!"]},null,8,["modelValue","rules"]),(0,i.Wm)(v,{outlined:"",modelValue:e.imgModel,"onUpdate:modelValue":t[3]||(t[3]=t=>e.imgModel=t),class:"q-mb-lg"},null,8,["modelValue"]),(0,i.Wm)(v,{modelValue:e.descriptionModel,"onUpdate:modelValue":t[4]||(t[4]=t=>e.descriptionModel=t),outlined:"",type:"textarea","lazy-rules":"",rules:[e=>e&&e.length>0||"Обязательное поле!"]},null,8,["modelValue","rules"]),(0,i.Wm)(q,{align:"center",class:"q-pa-none"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{spread:"",class:"full-width"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{color:"primary",type:"submit",label:"Сохранить"}),(0,i.Wm)(w,{color:"negative",label:"Отмена",onClick:t[5]||(t[5]=t=>e.isOpenEditDialog=!1)})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var w=l(499),h=l(3100),f=l(9302);const v=(0,i.aZ)({name:"ArticlesListElement",props:{img:{type:String,required:!1},title:{type:String,required:!0},author:{type:String,required:!0},description:{type:String,required:!1},showDeleteButton:{type:Boolean,default:!1,required:!1},showEditButton:{type:Boolean,default:!1,required:!1},id:{type:Number,required:!0}},setup(e){const t=(0,h.oR)(),l=(0,f.Z)(),i=(0,w.iH)(!1),o=(0,w.iH)(e.title),n=(0,w.iH)(e.img),s=(0,w.iH)(e.description),a=e=>{t.dispatch("articles/deleteArticle",e),l.notify({message:"Ваша новость успешна удалена",color:"positive",position:"bottom-right"})},r=()=>{t.dispatch("articles/editArticle",{id:e.id,title:o.value,description:s.value,img:n}),l.notify({message:"Ваша новость успешна изменина!",color:"positive",position:"bottom-right"}),i.value=!1};return{deleteArticle:a,isOpenEditDialog:i,edit:r,titleModel:o,imgModel:n,descriptionModel:s}}});var q=l(1639),y=l(4458),b=l(3190),Z=l(7236),_=l(963),W=l(3997),A=l(8326),B=l(7471),D=l(1821),E=l(9984),k=l.n(E);const L=(0,q.Z)(v,[["render",g],["__scopeId","data-v-2cb3e7bf"]]),V=L;k()(v,"components",{QCard:y.Z,QCardSection:b.Z,QBtnGroup:Z.Z,QBtn:_.Z,QDialog:W.Z,QForm:A.Z,QInput:B.Z,QCardActions:D.Z});const M=(0,i.aZ)({name:"ArticlesList",components:{ArticlesListElement:V},props:{articles:{type:Array,required:!1},showDeleteButton:{type:Boolean,default:!1,required:!1},showEditButton:{type:Boolean,default:!1,required:!1}},setup(){}}),Q=(0,q.Z)(M,[["render",n]]),C=Q},1750:(e,t,l)=>{l.d(t,{Z:()=>g});var i=l(9835),o=l(1957);const n={key:0,class:"wrapper-preloader"},s=(0,i._)("h2",null,"Добро пожаловать!",-1);function a(e,t,l,a,r,d){const u=(0,i.up)("q-spinner");return(0,i.wg)(),(0,i.j4)(o.uT,{name:"opacity",onAfterLeave:e.onAnimationEnd},{default:(0,i.w5)((()=>[e.isLoading?((0,i.wg)(),(0,i.iD)("div",n,[s,(0,i.Wm)(u,{color:"white",size:"150px"})])):(0,i.kq)("",!0)])),_:1},8,["onAfterLeave"])}const r=(0,i.aZ)({name:"PagePreloader",props:{isLoading:{type:Boolean,required:!0}},setup(){const e=()=>{document.documentElement.style.overflow="auto"};return(0,i.bv)((()=>{document.documentElement.style.overflow="hidden"})),{onAnimationEnd:e}}});var d=l(1639),u=l(3902),c=l(9984),p=l.n(c);const m=(0,d.Z)(r,[["render",a]]),g=m;p()(r,"components",{QSpinner:u.Z})},5138:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var i=l(9835);const o=(0,i._)("h4",null,"Новости",-1);function n(e,t,l,n,s,a){const r=(0,i.up)("PagePreloader"),d=(0,i.up)("ArticlesList"),u=(0,i.up)("q-page");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r,{isLoading:e.isLoading},null,8,["isLoading"]),(0,i.Wm)(u,{class:"flex column q-px-lg q-pb-lg"},{default:(0,i.w5)((()=>[o,(0,i.Wm)(d,{articles:e.articles},null,8,["articles"])])),_:1})],64)}var s=l(499),a=l(3100),r=l(1750),d=l(8004);const u=(0,i.aZ)({name:"ArticlesPage",components:{PagePreloader:r.Z,ArticlesList:d.Z},setup(){const e=(0,a.oR)(),t=(0,s.iH)(!0);return(0,i.bv)((()=>{e.dispatch("articles/loadArticles"),setTimeout((()=>{t.value=!1}),2e3)})),{isLoading:t,articles:(0,i.Fl)((()=>e.getters["articles/getArticles"]))}}});var c=l(1639),p=l(9885),m=l(9984),g=l.n(m);const w=(0,c.Z)(u,[["render",n]]),h=w;g()(u,"components",{QPage:p.Z})}}]);